(this.webpackJsonpdataset=this.webpackJsonpdataset||[]).push([[0],{14:function(_,e,t){},15:function(_,e,t){},16:function(_,e,t){"use strict";t.r(e);var a=t(0),n=t(1),r=t.n(n),s=t(6),c=t.n(s),i=(t(14),t(7)),l=function(_){_&&_ instanceof Function&&t.e(3).then(t.bind(null,17)).then((function(e){var t=e.getCLS,a=e.getFID,n=e.getFCP,r=e.getLCP,s=e.getTTFB;t(_),a(_),n(_),r(_),s(_)}))};c.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(i.a,{})}),document.getElementById("root")),l()},7:function(module,__webpack_exports__,__webpack_require__){"use strict";var _Users_evan_liu_dataset_dataset_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),_Users_evan_liu_dataset_dataset_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__),_App_css__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(15),_App_css__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_App_css__WEBPACK_IMPORTED_MODULE_4__);function clone(_){return JSON.parse(JSON.stringify(_))}function DataSet(_){var e=this;this.data={},this.pendingData={};for(var t=0;t<_.length;t++)this.data["column"+t]=_[t];return this.pendingData=clone(this.data),this.colInx=_.length,this.rowCount=_[0].length,this.selectCol=function(_){for(var t={},a=0;a<_.length;a++){var n=_[a];e.pendingData[n]&&(t[n]=e.pendingData[n])}return e.pendingData=t,e},this.addCol=function(_){var t="column"+e.colInx;e.colInx++,e.pendingData[t]=[];for(var a=0;a<e.rowCount;a++){for(var n=void 0,r=0;r<_.length;r++)n=0===r?e.pendingData[_[r]][a]:e.pendingData[_[r]][a]+n;e.pendingData[t].push(n)}return e},this.orderBy=function(_){var t=[],a=Object.keys(e.pendingData),n=a.indexOf(_);a.map((function(_){var a=e.pendingData[_];t.push(Object(_Users_evan_liu_dataset_dataset_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__.a)(a))}));var r={},s=t[n];s.sort((function(_,e){var t=e-_,a=s.indexOf(_),n=s.indexOf(e);return r[a+"_"+n]=t,t}));for(var c=0;c<t.length;c++)c!==n&&function(){var _=t[c];_.sort((function(e,t){var a=_.indexOf(e),n=_.indexOf(t);return r[a+"_"+n]}))}();for(var i=0;i<t.length;i++)e.pendingData[a[i]]=t[i]},this}var defaultArr=[[1,3,5,7,9,11],[2,4,6,8,12,10],[1,2,3,4,5,6],[6,5,4,3,2,1],["name1","name2","name3","name4","name5","name6"],[15,15,16,16,17,17]];function App(){var _React$useState=react__WEBPACK_IMPORTED_MODULE_3___default.a.useState(new DataSet(defaultArr)),_React$useState2=Object(_Users_evan_liu_dataset_dataset_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_React$useState,2),orgData=_React$useState2[0],setOrgData=_React$useState2[1],_React$useState3=react__WEBPACK_IMPORTED_MODULE_3___default.a.useState(),_React$useState4=Object(_Users_evan_liu_dataset_dataset_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_React$useState3,2),forceUpdate=_React$useState4[1],_React$useState5=react__WEBPACK_IMPORTED_MODULE_3___default.a.useState("dataSet.orderBy('column1')"),_React$useState6=Object(_Users_evan_liu_dataset_dataset_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_React$useState5,2),pendingFun=_React$useState6[0],setPendingFun=_React$useState6[1],renderArr=function(_){for(var e=Object.keys(_),t=e.length,a=[],n=0,r=_&&e&&e.length>0?_[e[0]].length:0;n<r;)a.push(n),n++;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{className:"arrWrap",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"arrHeaderWrap",children:e.map((function(_){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"arrHeaderItem",children:_},_)}))}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"arrContentWrap",children:a.map((function(a){for(var n=[],r=0,s=t;r<s;)n.push(r),r++;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"arrContentRowItem",children:n.map((function(t){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"arrContentColItem",children:_[e[t]][a]})}))},"row"+a)}))})]})},onClickRun=function onClickRun(){(function(){var dataSet=orgData;eval(pendingFun)})(),forceUpdate({})};return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{className:"App",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{className:"wrap",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"orgWrap",children:renderArr(orgData.data)}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{className:"actionWrap",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("button",{className:"actionBtn",onClick:function(){setPendingFun("dataSet.orderBy('column1');")},children:"Order By"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("button",{className:"actionBtn",onClick:function(){setPendingFun("dataSet.addCol(['column1','column2']);")},children:"Add"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("button",{className:"actionBtn",onClick:function(){setPendingFun("dataSet.selectCol(['column1','column6']);")},children:"Select"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("button",{className:"actionBtn",onClick:function(){setPendingFun("dataSet.addCol(['column0','column1','column2']);\ndataSet.selectCol(['column0','column6']);\n")},children:"Mutiple Action"})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("textarea",{onChange:function(_){setPendingFun(_.target.value)},className:"funArea",defaultValue:pendingFun,value:pendingFun}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("button",{className:"runBtn",onClick:onClickRun,children:"Run"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("button",{className:"runBtn",onClick:function(){orgData.pendingData=clone(orgData.data),forceUpdate({})},children:"Reset"})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"targetWrap",children:renderArr(orgData.pendingData)})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{className:"role",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("h3",{style:{textAlign:"left"},children:"\u5b9e\u73b0\u903b\u8f91"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("ul",{style:{textAlign:"left"},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("li",{children:"1, \u5b9a\u4e49\u6784\u5efa\u51fd\u6570function DataSet(arrData), \u5b9e\u73b0\u6570\u636e\u5e93\u6570\u636e\uff08\u4e8c\u7ef4\u6570\u7ec4\uff09\u5230JS\u5bf9\u8c61\u7684\u8f6c\u6362"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("li",{children:"2, \u5b9e\u73b0\u9884\u5148\u8bbe\u7f6e\u597d\u7684\u65b9\u6cd5\uff0c\u6bd4\u5982 selectCol(), addCol(), orderBy()\u7b49"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("li",{children:["3, \u7528\u6237\u6216\u8005\u524d\u7ebf\u5de5\u4f5c\u4eba\u5458\uff0c\u81ea\u5b9a\u4e49\u6570\u636e\u64cd\u4f5c\u65f6\u53ea\u9700\u8981\u76f4\u63a5\u8c03\u7528\u9884\u8bbe\u65b9\u6cd5\uff0c\u4e0d\u9700\u8981\u5199\u590d\u6742\u7684\u6570\u636e\u5e93\u8bed\u53e5\uff0c\u4e5f\u4e0d\u9700\u8981\u89e3\u6790\uff0c\u6bd4\u5982",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("pre",{className:"pre",children:"dataSet.selectCol(['column0','column1']); dataSet.addCol(['column0','column1']); dataSet.orderBy('column0');"})]})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("h4",{style:{textAlign:"left"},children:"DataSet \u5b9e\u73b0"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:{textAlign:"left"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("pre",{children:'\n             function DataSet(arrData) {\n                this.data = {};\n                this.pendingData = {};\n                for (let i = 0; i < arrData.length; i++) {\n                  this.data["column" + i] = arrData[i];\n                }\n                this.pendingData = clone(this.data);\n                this.colInx = arrData.length;\n                this.rowCount = arrData[0].length;\n\n\n                // avalable actions;\n\n                this.selectCol = (keyArray) => {\n                  const newData = {};\n                  for (let i = 0; i < keyArray.length; i++) {\n                    const key = keyArray[i];\n                    if (this.pendingData[key]) {\n                      newData[key] = this.pendingData[key];\n                    }\n                  }\n                  this.pendingData = newData;\n                  return this;\n                };\n\n                this.addCol = (keyArray) => {\n                  const addKey = "column" + this.colInx;\n                  this.colInx++;\n                  this.pendingData[addKey] = [];\n                  for (let i = 0; i < this.rowCount; i++) {\n                    let val;\n                    for (let j = 0; j < keyArray.length; j++) {\n                      if (j === 0) {\n                        val = this.pendingData[keyArray[j]][i];\n                      } else {\n                        val = this.pendingData[keyArray[j]][i] + val;\n                      }\n                    }\n                    this.pendingData[addKey].push(val);\n                  }\n                  return this;\n                };\n\n                this.orderBy = (orderKey) => {\n                  ...\n                };\n\n                return this;\n              }\n              '})})]})]})}__webpack_exports__.a=App}},[[16,1,2]]]);
//# sourceMappingURL=main.64176780.chunk.js.map